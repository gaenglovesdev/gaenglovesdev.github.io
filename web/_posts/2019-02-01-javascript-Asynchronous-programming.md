---
layout: post
title: "ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°"
description: >
  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.
category: Web Front-end
---

# ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°(Promise , Async Await)

## ğŸ”ë™ê¸°ì™€ ë¹„ë™ê¸° ì•Œì•„ë³´ê¸°

![ë™ê¸°ì™€ ë¹„ë™ê¸°](/assets/images/asynchronous/block_nonblock.png)

#### ë™ê¸°ë€(synchronous)?

Synchronousë€ 'ìš”ì²­ê³¼ ê·¸ ê²°ê³¼ê°€  ë™ì‹œì— ì¼ì–´ë‚œë‹¤'ë¼ëŠ” ëœ»ì´ë‹¤.

ìš”ì²­ì— ë”°ë¥¸ ì‘ë‹µì´ ë™ì‹œì— ì¼ì–´ë‚œë‹¤ëŠ” ê²ƒì„ ëœ»í•˜ë©°,

ì§ë ¬ì ìœ¼ë¡œ íƒœìŠ¤í¬(task)ë¥¼ ìˆ˜í–‰í•œë‹¤.

ì¦‰, íƒœìŠ¤í¬ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©° ì–´ë–¤ ì‘ì—…ì´ ìˆ˜í–‰ ì¤‘ì´ë©´ ë‹¤ìŒ ì‘ì—…ì€

ëŒ€ê¸°í•˜ê²Œ ëœë‹¤.

![ë™ê¸°ì‹ ì²˜ë¦¬ ëª¨ë¸](/assets/images/asynchronous/synchronous.png)



#### ë¹„ë™ê¸°ë€(asynchronous)?
AsynchronousëŠ” 'ìš”ì²­ê³¼ ê·¸ ê²°ê³¼ê°€ ë™ì‹œì— ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤'ë¼ëŠ” ëœ»ì´ë‹¤.

ë¹„ë™ê¸°ëŠ” ë³‘ë ¬ì ìœ¼ë¡œ íƒœìŠ¤í¬ë¥¼ ìˆ˜í–‰í•œë‹¤.

ì¦‰, íƒœìŠ¤í¬ê°€ ì¢…ë£Œë˜ì§€ ì•Šì€ ìƒíƒœë¼ í•˜ë”ë¼ë„ ëŒ€ê¸°í•˜ì§€ ì•Šê³ 

ë‹¤ìŒ íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•œë‹¤


![ë¹„ë™ê¸°ì‹ ì²˜ë¦¬ ëª¨ë¸](/assets/images/asynchronous/asynchronous.png)


## PromiseğŸ¤™

>Single threadì¸ javascriptëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•´ ì½œë°± íŒ¨í„´ì„ ì‚¬ìš©í•´ì™”ë‹¤.
>í•˜ì§€ë§Œ ì „í†µì ì¸ ì½œë°± íŒ¨í„´ì€ ê°€ë…ì„±ì´ ë‚˜ì˜ê³  ë¹„ë™ê¸° ì²˜ë¦¬ ì¤‘ ë°œìƒí•œ ì—ëŸ¬ì˜ ì˜ˆì™¸ ì²˜ë¦¬ê°€ ê³¤ë€í•˜ë©°
>ì—¬ëŸ¬ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì„ í•œêº¼ë²ˆì— ì²˜ë¦¬í•˜ëŠ” ê²ƒë„ í•œê³„ê°€ ìˆë‹¤. ES6ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ë˜ ë‹¤ë¥¸ íŒ¨í„´ìœ¼ë¡œ í”„ë¡œë¯¸ìŠ¤(Promise)ë¥¼ ë„ì…í•˜ì˜€ë‹¤.


#### ì½œë°± íŒ¨í„´ì˜ ë‹¨ì  1 : ì½œë°± í—¬
ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•´ ì½œë°± íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ì²˜ë¦¬ ìˆœì„œë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ê°œì˜ ì½œë°± í•¨ìˆ˜ê°€ ë„¤ìŠ¤íŒ…(nesting, ì¤‘ì²©)ë˜ì–´
ë³µì¡ë„ê°€ ë†’ì•„ì§€ëŠ” *ì½œë°± í—¬(Callback Hell)*ì´ ë°œìƒí•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.
ì½œë°± í—¬ì€ ê°€ë…ì„±ì„ ë‚˜ì˜ê²Œ í•˜ë©° ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•˜ëŠ” ì›ì¸ì´ ëœë‹¤.
```js
//ì½œë°±í•¨ìˆ˜ì˜ ì½œë°±í—¬ ì˜ˆì‹œ
step1(function(value1) {
  step2(value1, function(value2) {
    step3(value2, function(value3) {
      step4(value3, function(value4) {
        step5(value4, function(value5) {
            ...
        });
      });
    });
  });
});
```

#### ì½œë°± íŒ¨í„´ì˜ ë‹¨ì  2 : ì—ëŸ¬ ì²˜ë¦¬
ë˜í•œ ì½œë°±ë°©ì‹ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë°©ì‹ì˜ ì¹˜ëª…ì ì¸ ë‹¨ì ì€ *ì—ëŸ¬ ì²˜ë¦¬ê°€ ê³¤ë€*í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.
`try-catch` ìŠ¤ì½”í”„ ë‚´ì—ì„œ ì½œë°±í•¨ìˆ˜ì˜ ì—ëŸ¬ë¥¼ ìºì¹˜í•˜ì§€ ëª»í•œë‹¤ëŠ” ë‹´ì ì´ ìˆë‹¤.
ì˜ˆì™¸(exception)ê°€ í˜¸ì¶œì(caller) ë°©í–¥ìœ¼ë¡œ ì „íŒŒë˜ëŠ”ë° ë¹„ë™ê¸° í•¨ìˆ˜ í˜¸ì¶œìëŠ” ì½œ ìŠ¤íƒì—ì„œ ì´ë¯¸ ì‚¬ë¼ì¡Œê¸° ë•Œë¬¸ì´ë‹¤.


#### í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœ
ìƒì„±ëœ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒíƒœê°’ì„ ê°–ëŠ”ë‹¤.
- Pending(ëŒ€ê¸°) : ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì´ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœ  
- Fullfilled(ì´í–‰) : ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì–´ í”„ë¡œë¯¸ìŠ¤ê°€ ê²°ê³¼ê°’ì„ ë°˜í™˜í•´ì¤€ ìƒíƒœ
- Rejected(ì‹¤íŒ¨) : ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ìƒíƒœ
- settled : pendingì´ ì•„ë‹ ë•Œë¥¼ ë§í•˜ë©°, ê²°ë¡ ì´ ë‚œ ìƒíƒœ


#### í”„ë¡œë¯¸ìŠ¤ì˜ ì„ ì–¸
```js
  //í”„ë¡œë¯¸ìŠ¤ ìƒì„±
  const getData = function(state){
    return new Promise((resolve,reject) => {
      if(state){
        resolve()
      }else{
        reject()
      }
      
    })
  }

  getData(true)
    .then(response => {
      //Logic
    })
    .catch(error => {
      //Logic
    })
```
*í”„ë¡œë¯¸ìŠ¤ì˜ ìƒì„±*ì€ `Promise` ìƒì„±ì í•¨ìˆ˜ë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤í™” í•œë‹¤. `Promise` ìƒì„±ì í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í• 
ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬ë°›ëŠ”ë° ì´ ì½œë°± í•¨ìˆ˜ëŠ” `resolve`ì™€ `reject`í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

*í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì†Œë“œ*ëŠ” ë‘ê°€ì§€ë¡œ ì•„ë˜ì™€ ê°™ë‹¤.
- then() : ë‘ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬ ë°›ëŠ”ë‹¤. ì²«ë²ˆì¨° ì½œë°± í•¨ìˆ˜ëŠ” ì„±ê³µ ì‹œ í˜¸ì¶œë˜ê³ , ë‘ë²ˆì§¸ í•¨ìˆ˜ëŠ” ì‹¤íŒ¨ì‹œ í˜¸ì¶œëœë‹¤.
- catch() : ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í˜¸ì¶œëœë‹¤.



## Async/Await
í”„ë¡œë¯¸ìŠ¤ íŒ¨í„´ì´ ì½œë°± ì§€ì˜¥ì„ ë²—ì–´ë‚  ìˆ˜ ìˆê²Œ í•´ì¤¬ë‹¤ê³  í•˜ì§€ë§Œ ì—­ì‹œë‚˜ ì½”ë“œê°€ ê¸¸ì–´ì§€ë©´ í”„ë¡œë¯¸ìŠ¤ íŒ¨í„´ì—­ì‹œ
ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤. ì´ì— es8ì—ì„œëŠ” es6ì˜ `generator`ì™€ ë¹„ìŠ·í•œ ëª¨ìŠµì¸ `Async/Await`ë¥¼ ë„ì…í•˜ì—¬ ë¹„ë™ê¸°ì½”ë“œì˜ ê²‰ëª¨ìŠµì„
ì¢€ ë” ë™ê¸° ì½”ë“œì™€ ìœ ì‚¬í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤.

#### íŠ¹ì§•

- funtion í‚¤ì›Œë“œ ì•ì— `async`ë¥¼ ë¶™ì—¬ì£¼ê³  ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë˜ëŠ” ë¶€ë¶„ ì•ì— `await`ë¥¼ ë¶™ì—¬ì¤€ë‹¤.
- awaitì€ ë°˜ë“œì‹œ promiseë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```js
//ì„ ì–¸
const something = async data1 => {
  const data2 = await gaeng(data1);
  const data3 = await gaeng(data2);
  const data4 = await gaeng(data3);
}
//í˜¸ì¶œ
something(data)
```

#### ì—ëŸ¬ ì²˜ë¦¬

`async / await`ì€ ë™ê¸°ì™€ ë¹„ë™ê¸° ì—ëŸ¬ë¥¼ ëª¨ë‘ `try/catch`ë¥¼ í†µí•´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

```js
const getData = async () => {
  try {
    const data = JSON.parse(await getJSON())
    console.log(data)
  } catch (error) {
    console.log(error)
  }
}
```


*Thanks to*

[ì°¸ê³  : Poiemaweb - Promise](https://poiemaweb.com/es6-promise)
[ì°¸ê³  : constell99 - ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ Async/Await ê°€ Promisesë¥¼ ì‚¬ë¼ì§€ê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” 6ê°€ì§€ ì´ìœ ](https://medium.com/@constell99/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-async-await-%EA%B0%80-promises%EB%A5%BC-%EC%82%AC%EB%9D%BC%EC%A7%80%EA%B2%8C-%EB%A7%8C%EB%93%A4-%EC%88%98-%EC%9E%88%EB%8A%94-6%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%9C%A0-c5fe0add656c)
